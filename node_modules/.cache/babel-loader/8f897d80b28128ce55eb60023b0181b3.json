{"ast":null,"code":"var _jsxFileName = \"/Users/esteban/flink_crud/src/views/CardBox/ModalWindow/ModalWindow.js\",\n    _s = $RefreshSig$();\n\nimport { getFormularies, postFormulary, putFormulary, deleteFormulary } from '../../../services/serviceApi';\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport \"./style.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst baseUrl = `http://143.198.58.196:8000/api/v1/formulary/`;\n\nfunction ModalWindow({\n  setModal,\n  company,\n  setCompany\n}) {\n  _s();\n\n  const [formCompany, setFormCompany] = useState(company);\n\n  function handleChange({\n    target\n  }) {\n    setFormCompany({ ...formCompany,\n      [target.name]: [target.value]\n    }); //console.log(target, \"\\n..............\");\n    //console.log(\"ronnie\", formCompany, target.value, target.name);\n  }\n\n  function conversion(str) {\n    if (typeof str[0] === 'string') {\n      const newArray = str[0].split(',').map(element => parseInt(element)); //console.log(\"jose\",{newArray});\n\n      return newArray;\n    }\n\n    return str;\n  }\n\n  function validateArray(arr) {\n    if (typeof arr === 'object') {\n      return arr[0];\n    }\n\n    return arr;\n  } // PUT request.\n\n\n  const postRequest = async event => {\n    event.preventDefault();\n    let id = { ...formCompany\n    };\n    let data = {\n      id: formCompany.id,\n      name_company: validateArray(formCompany.name_company),\n      description_company: formCompany.description_company,\n      symbol: formCompany.symbol,\n      market_values: conversion(formCompany.market_values)\n    };\n    console.log(\"ronnie\", data);\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    await putFormulary(data);\n    setModal(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form__back\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setModal(false),\n        className: \"form__back__button\",\n        children: \"Regresar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: postRequest,\n        className: \"form\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"name_company\",\n          value: formCompany.name_company,\n          onChange: handleChange,\n          className: \"form__input-text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"symbol\",\n          value: formCompany.symbol,\n          onChange: handleChange,\n          className: \"form__input-text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"description_company\",\n          value: formCompany.description_company,\n          onChange: handleChange,\n          className: \"form__input-text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"market_values\",\n          value: formCompany.market_values,\n          onChange: handleChange,\n          className: \"form__input-text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form__buttons\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            className: \"form__buttons__button\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ModalWindow, \"vqY9Y0pA7QYC1rK6vcljTzQM2Lo=\");\n\n_c = ModalWindow;\nexport default ModalWindow;\n\nvar _c;\n\n$RefreshReg$(_c, \"ModalWindow\");","map":{"version":3,"sources":["/Users/esteban/flink_crud/src/views/CardBox/ModalWindow/ModalWindow.js"],"names":["getFormularies","postFormulary","putFormulary","deleteFormulary","useState","axios","baseUrl","ModalWindow","setModal","company","setCompany","formCompany","setFormCompany","handleChange","target","name","value","conversion","str","newArray","split","map","element","parseInt","validateArray","arr","postRequest","event","preventDefault","id","data","name_company","description_company","symbol","market_values","console","log","config","headers"],"mappings":"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","sourcesContent":["import { getFormularies, postFormulary, putFormulary, deleteFormulary } from '../../../services/serviceApi'\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport \"./style.scss\";\n\n\nconst baseUrl = `http://143.198.58.196:8000/api/v1/formulary/`;\n\nfunction ModalWindow({ setModal, company, setCompany }) {\n  const [formCompany, setFormCompany] = useState(company);\n\n  function handleChange({ target }) {\n    setFormCompany({\n      ...formCompany,\n      [target.name]: [target.value],\n    });\n    //console.log(target, \"\\n..............\");\n    //console.log(\"ronnie\", formCompany, target.value, target.name);\n  }\n\n  function conversion(str) {\n    if (typeof(str[0]) === 'string') {\n      const newArray = str[0].split(',').map( element => parseInt(element))\n      //console.log(\"jose\",{newArray});\n      return newArray;\n    }\n    return str;\n  }\n\n  function validateArray(arr){\n    if( typeof(arr) === 'object' ) {\n      return arr[0];\n    }\n    return arr;\n  }\n\n  // PUT request.\n  const postRequest = async (event) => {\n    event.preventDefault();\n    let id = {...formCompany};\n    let data = {\n        id: formCompany.id,\n        name_company: validateArray(formCompany.name_company),\n        description_company: formCompany.description_company,\n        symbol: formCompany.symbol,\n        market_values: conversion(formCompany.market_values)\n    }\n    console.log(\"ronnie\", data);\n    const config = {headers: {'Content-Type' : 'application/json'}}  \n    await putFormulary(data);\n    setModal(false)\n  };\n\n  return (\n    <div>\n\n      <div className=\"form__back\">\n        <button\n          onClick={() => setModal(false)}\n          className=\"form__back__button\"\n        >Regresar</button>\n      </div>\n\n      <div>\n        <form\n          onSubmit={postRequest}\n          className=\"form\"\n        >\n          <input\n            name=\"name_company\"\n            value={formCompany.name_company}\n            onChange={handleChange}\n            className=\"form__input-text\"\n          />\n\n          <input\n            name=\"symbol\"\n            value={formCompany.symbol}\n            onChange={handleChange}\n            className=\"form__input-text\"\n          />\n\n          <input\n            name=\"description_company\"\n            value={formCompany.description_company}\n            onChange={handleChange}\n            className=\"form__input-text\"\n          />\n\n          <input\n            name=\"market_values\"\n            value={formCompany.market_values}\n            onChange={handleChange}\n            className=\"form__input-text\"\n          />\n\n          <div className=\"form__buttons\">\n             <input\n                type=\"submit\"\n                className=\"form__buttons__button\"/>\n          </div>\n\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default ModalWindow;\n"]},"metadata":{},"sourceType":"module"}